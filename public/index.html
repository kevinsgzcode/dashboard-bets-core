<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard Bets Core</title>
    <link rel="stylesheet" href="./assets/styles.css" />
  </head>

  <body>
    <!-- AUTH SECTION -->
    <section id="auth-section" class="auth-container">
      <div class="auth-card">
        <h2 class="auth-title">Login Account</h2>
        <p class="auth-subtitle">Access your picks dashboard</p>

        <form id="login-form" class="auth-form">
          <label class="auth-label">Username</label>
          <input type="text" id="login-username" class="auth-input" required />

          <label class="auth-label">Password</label>
          <input
            type="password"
            id="login-password"
            class="auth-input"
            required
          />

          <button type="submit" class="auth-btn">Login</button>
        </form>

        <div class="auth-divider"></div>

        <h3 class="auth-subtitle2">Create account</h3>

        <form id="register-form" class="auth-form">
          <label class="auth-label">Username</label>
          <input type="text" id="reg-username" class="auth-input" required />

          <label class="auth-label">Password</label>
          <input
            type="password"
            id="reg-password"
            class="auth-input"
            required
          />

          <label class="auth-label">Initial bank ($)</label>
          <input type="number" id="reg-bank" class="auth-input" required />

          <button type="submit" class="auth-btn secondary">Register</button>
        </form>

        <p id="auth-message" class="auth-msg"></p>
      </div>
    </section>

    <!-- DASHBOARD -->
    <div id="dashboard-container" style="display: none">
      <!-- LOGOUT -->
      <section id="logout-section" style="display: none">
        <button id="logout-btn" class="logout-btn">Logout</button>
      </section>
      <!--PAGE TITLE-->
      <h1 class="page-title">Dashboard Bets</h1>

      <section id="picks-section" style="display: none">
        <div id="loading">Loading picks...</div>

        <!-- GRID LAYOUT (70/30) -->
        <div class="top-grid">
          <!-- LEFT SIDE (STATS + CHART) -->
          <div class="left-column">
            <!-- STATS PANEL -->
            <section id="stats-panel" style="display: none">
              <h2 class="section-title">Bank Overview</h2>

              <div class="stats-grid">
                <div>
                  <strong>Initial Bank:</strong>
                  <span id="initial-bank">$0</span>
                </div>
                <div>
                  <strong>Current Bank:</strong>
                  <span id="current-bank">$0</span>
                </div>
                <div>
                  <strong>Total Stake:</strong> <span id="total-stake">$0</span>
                </div>
                <div>
                  <strong>Profit/Loss:</strong>
                  <span id="total-profitloss">$0</span>
                </div>
                <div><strong>ROI:</strong> <span id="roi">0%</span></div>
              </div>
            </section>

            <!-- CHART -->
            <section id="chart-section" style="display: none">
              <h2 class="section-title">Performance Chart</h2>
              <canvas id="performanceChart" width="400" height="200"></canvas>
            </section>
          </div>

          <!-- ADD PICK -->
          <div class="right-column">
            <section id="new-pick-section" style="display: none">
              <h2 class="section-title">Add new pick</h2>

              <form id="new-pick-form">
                <label>League:</label>
                <select id="league" required>
                  <option value="">Select a league</option>
                  <option value="NFL">NFL</option>
                </select>

                <label>Team:</label>
                <select id="team" required>
                  <option value="">Select a team</option>
                </select>

                <label>Bet type:</label>
                <input type="text" id="bet" required />

                <label>Odds:</label>
                <input type="number" id="odds" step="0.01" required />

                <label>Stake:</label>
                <input type="number" id="stake" step="0.01" required />

                <label>Match date:</label>
                <input type="date" id="match_date" required />

                <button type="submit">Add Pick</button>
              </form>

              <p id="form-message" style="color: gray"></p>
            </section>
          </div>
        </div>

        <!-- FILTERS + TABLE -->
        <section
          id="filters-and-table"
          class="full-width-section"
          style="display: none"
        >
          <h2 class="section-title">Stored Picks</h2>

          <!-- FILTERS -->
          <div class="filters-inline">
            <div class="filter-item">
              <label>Team:</label>
              <input
                type="text"
                id="filterTeam"
                placeholder="Search by team..."
              />
            </div>

            <div class="filter-item">
              <label>Result:</label>
              <select id="filterResult">
                <option value="">All</option>
                <option value="won">Won</option>
                <option value="lost">Lost</option>
                <option value="pending">Pending</option>
              </select>
            </div>

            <div class="filter-item">
              <label>From:</label>
              <input type="date" id="filterFrom" />
            </div>

            <div class="filter-item">
              <label>To:</label>
              <input type="date" id="filterTo" />
            </div>
          </div>

          <p id="picks-count" style="color: gray; margin-top: 5px"></p>

          <table id="picks-table">
            <thead>
              <tr>
                <th>League</th>
                <th>Team</th>
                <th>Bet type</th>
                <th>Odd</th>
                <th>Stake</th>
                <th>Possible Win</th>
                <th>Profit / Loss</th>
                <th>Match Date</th>
                <th>Result</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="picks-body"></tbody>
          </table>
        </section>
      </section>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="./assets/main.js" defer></script>
  </body>
</html>
